version 1.0, released 31.10.94

version 1.1, released 11.11.94

  *  renamed CONST constant because Ultrix and Sinix had problems with it
  *  implemented substitute for strcasecmp because Sinix doesn't have one
  *  summary title string could come up with garbage if grok starts empty
  *  when creating new forms, database name was used as form file name
  *  DEC/OSF stdarg had problems with a check for null %s arguments, fixed
  *  preferences menu can now configure number of lines in summary window
  *  preferences menu can now scale cards (for people with lowres screens)
  *  GROK_FORM environment variable replaces "." in form searches
  *  added help on environment variables and resources
  *  US dates mm/dd/yy in the database file were misparsed as 12/31/69
  *  Cancel in the print file dialog didn't work (Igor Metz <metz@glue.ch>)
  *  help could overrun malloced buffer (Grant McDorman <grant@isgtec.com>)
  *  FORM keyword evaluated to name.f, not name.gf
  *  DBASE keyword no longer appends .db extension if database is procedural

version 1.1.1, released

  *  form editor allowed leading blanks in form and dbase names, confusing
  *  multiple independent sets of choices in a form didn't work
  *  form editor didn't handle blanks and DELs as field delimiters well

version 1.2, released 16.6.95

  *  conversion to ANSI C
  *  multiple sections (database can be a directory, contents are sections)
  *  new chart code that is actually usable
  *  elimination of duplicate forms in the database pulldown
  *  database lines beginning with an empty field shifted all fields to left
  *  print current card always printed second card (kooper@dcs.qmw.ac.uk)
  *  added qsum, qavg, qdev, qmin, qmax to language (grant@isgtec.com)
  *  added ssum, savg, sdev, smin, smax, in, section to language
  *  port to DEC OSF/1 Alpha, by Steven W. Orr <steveo@uniprise.com>
  *  texts longer than 1024 characters could crash
  *  new full-color SGI icon
  *  improved PostScript manual

version 1.3, released 28.4.96

  *  export function, plus
  *  new biblio database by James C. McPherson <mljmcphe@dingo.cc.uq.oz.au>
  *  grayed-out data entry fields no longer show garbage data
  *  no longer necessary to press print mode button twice

version 1.3.1, released 3.5.96

  *  fixed stack array overrun causing crashes on some systems

version 1.3.2, released 10.5.96

  *  fixed stack array overrun causing crashes on some systems

version 1.4, released 5.2.97

  *  new form editor fields for plan calendar interface (needs plan 1.6)
  *  sort pulldown supports reverse sort
  *  the database is resorted automatically whenever the database changes
  *  optional automatic queries whenever the database changes
  *  summary always shows current database state, even while adding cards
  *  database and section pulldowns are now sorted
  *  new system database, by Mike Dotson <dotson@drcpdx.stt3.com>
  *  new workplan database
  *  query dialog shows available fields in a scroll window to reduce width
  *  cards can now be added without selecting a section (if available) first
  *  exporting to HTML data-only lists no longer crashes or repeats strings

version 1.4.1, released 9.7.97

  *  new date and time string to number conversion functions in the grammar
  *  new general character-to-string translation operator "tr" in the grammar
  *  new variables A..Z that are not cleared when switching databases
  *  new database field assignment functions
  *  grok sometimes crashed after creating a new form before data is entered
  *  fixed export expressions, it was difficult to put newlines into templates
  *  sometimes misinterpreted the time part of date/time fields in data files
 
version 1.4.2, released 29.1.98

  *  SUBST command in templates was ignored (<Sjoerd.Mullender@cwi.nl>)
  *  minor SGI fixes and usage message (Ariel Faigon <ariel@oz.engr.sgi.com>)
 
version 1.4.3, released 9.9.99

  * SYSTEM command leaked file descriptors (Paul van Slobbe <Paul.vanSlobbe@
    nym.sc.philips.com>)
  * now only labels and buttons must have a label, all others can be unlabeled
  * always write all database data columns, don't omit trailing empty fields
  * new keyword "disp" returns the number of the currently displayed card
  * FreeBSD 2.2.7 changes by Stan Norton <norton@northsea.com>
  * fixed date parser, can now use 00..38 for 2000..2038 and other problems
  * new phone2 (with PalmPilot export), music, occasion and howto database
    forms by Steven Hughes <hughes@cerc.wes.army.mil>
 
version 1.5, released 23.5.01

  * there are now six search modes, selectable by a combo popup next to the
    search string input area: search, in query, narrow query, widen query,
    and find-and-select. The last one is also accessible with Ctrl-F, and
    highlights the next card that matches the search in the summary table
    without creating a new summary table like the others.
  * the new "requery" button repeats the last query. This is useful to restore
    the last summary listing after a search.
  * the HTML export templates were much improved.
  * all cards now get a unique timestamp and identifier when they are created.
    It is saved in a separate file "name.ts". Timestamps are displayed in the
    info line, and will later be used for PDA synchronization. Timestamps can
    be disabled by unchecking "synchronizable" in the form editor.
  * added "expand" keyword to allow templates to print the mnemonic value of
    flag and choice fields.
  * the printer line length is now configurable in the preferences dialog.
  * a new command-line option -p prints the database in a form digestible by
    the (forthcoming) plan calendar 1.9. A default query string can be defined
    in the form editor to send only a subset of the database to plan.
  * when procedural databases were written successfully, the modified flags
    were not reset. Fix by Fredy Paquet <fredy@gilera.opag.ch>
  * the default year was incorrect, it defaulted to 2000 instead of 2001

----- Note: The following was patched in from the actual, official
----- 1.5.4, but no other changes were merged.  These changes are in
----- the Qt version only, v2.0+.
 
version 1.5.1, released 10.5.03

  * field separators > 0x7f, such as \377, did not work. Fixed.

version 1.5.4

  * Show in summary: an expression to mangle fields for summary view
  * form definition files no longer store blank values if default is blank

-----  All releases below this line are by Thomas J. Moore,
-----  https://bitbucket.org/darktjm/grok/
-----  If tarballs aren't availble, look for the appropriate SVN ID.

version 1.5.1 (git tag xmbase_grok-1.5.1, SVN 494), released 26.10.18

  * fewer segfaults in templates
  * don't pop up new error dialog for every record on search expr error
  * multi-line text widget now works correclty in Motif 2.3.8
  * code now compiles with g++
  * other minor cleanups that may make this break in ancient unix

version 2.0 (git tag grok-2.0, SVN 508), released 11.14.18

  * updated README to be more like old one (but renamed to README.md)
  * added a substantial todo list, in case I don't abandon this soon
  * replaced Motif with Qt; bye bye systems that don't support it
    Everything looks and works a little differently.  In particular,
    X11-style resources are gone.  However, the underlying applicaiton
    is still pretty much the same as with 1.5.
    * Qt Syle Sheets can now be used for styling instead of X
      resources.  There is a built-in style sheet, which is overridden
      by grok.qss in any of the standard locations (e.g. you can delete
      the built-in qss by creating a 0-length grok.qss), and can be
      augmented by -stylesheet=<file> on the command-line.
    * Summary header is now absorbed into summary list widget, meaning
      that fixed-width fonts are not relied on for alignment
    * Context help becomes "What's This?".  It looks pretty ugly, and
      probably needs configuration.
    * GUI numeric inputs have become Qt "Spin Boxes", which ensure that
      input is numeric, and also allows adjustment with arrows.  This
      can't be done automatically for database fields, because there is
      no indicator of type on inputs.
    * Instead of just disabling irrelevant widgets in the form item editor
      form, the new GUI actually hides those widgets.  For example, the
      only time you see the huge chart options section is when editing a
      chart item.
    * Item type is now a popup menu button, so more item types can be
      added without the list extending infinitely to the right.
  * by sheer coincidence, fixed a few buffer overflow bugs
  * fixed some missing/wrong docs while adding qt-related info
  * removed #if 0-d features; if they haven't been implemented since 2001,
    they probably never will:
    * separator before summary header
    * View:  a summary window on another database (I will do something
      similar for the foreign key feature later).  Note that q_dbase,
      query, q_summ, q_first, q_last will no longer written to/read from
      the .gf file.
    * min field length.  I will convert this to a non-empty flag.  It
      could also be validated by my suggested input pattern replacement.
      Note that minlen will no longer be written to/read from the .gf file.
    * Input pattern:  this may be a good idea some time in the future as
      a field validator, but as an expression.  For this, regex support
      should be in the expressions.  Note that pattern will no longer be
      written to/read from the .gf file. (added to TODO.md)
    * Many chart-related options.  The whole chart thing needs to be
      rethought, anyway.  I have no intention of re-implementing gdchart
      here.  Note that ch_label, ch_xexpr, ch_yexpr, will no longer be written to/read
      from the .gf file.
  * Now uses the color application icon.  The old icon is still there for
    reference, but I'm not even going to bother packaging it.
  * field separators > 0x7f, such as \377, did not work. Fixed.
  * Show in summary: an expression to mangle fields for summary view

Databases which rely on the dynamic behavior of invisible_if in 2.0
will not work the same if loaded into 1.5.1 or earlier.

Version 2.0.1 (git tag grok-2.0.1, SVN 510), released 11.14.18
  * Minor bug fixes; use this instead of 2.0.

Version 2.1 (git tag grok-2.1, SVN 518), released 11.17.18
  * Added reordering buttons to query editor
  * The conditional expressions (Grayed out if,  ...) are now combo
    boxes, to make it easier to set groups of widgets to the same
    expression (not that copy/paste doesn't work well, too)
  * Added regular expression functions match, sub, gsub.  Also, since
    backslash-substitution isn't done anywhere else (except "), bsub.
  * Added string length operator #
  * Added string-as-array/set support: esc ## s[] s[]->v toset |+ |- |*
    and foreach() and \{FOREACH} for arrays & sets.
  * \{QUIT} now works
  * form definition files no longer store values at their defaults

Databases which use regular expression functions, array functions, or
\{QUIT} will not function correctly in 2.0 or earlier.

Note that I had intneded to put more into 2.1, but paniced when I
realized you couldn't create new, blank forms any more.  It turned out
I needn't have worried, since the bug causing it was introduced after
2.0.1, anyway.  Maybe I need a release manager.  Then again, it's not
likely anywone but me cares.  It's not like I advertise this anywhere.

Version 2.2 (git tag grok-2.2, SVN 528), released 12.1.18
  * Date widgets were updating after every keystroke, which
    essentially disallows all entry other than direct editing of the
    value, barely.  This bug was introduced in 2.0.
  * Multiple Choice groups in a card would hide the selection of all
    but the last displayed (bottom-right) group.  This bug was
    introduced in 2.0. 
  * Moving summary window selection away from a modified record will no
    longer revert the movement
  * Input fields can now be combo boxes, whose menu is filled in from
    static values or the current values in the database
  * Time fields now support calendar popups and cursor/spin adjustment
  * Added Number fields, which act like spin boxes with adjustable
    range and precision
  * Added Choice Menu fields, which pop up a fixed menu of items.
    These can be used in place of a large number of Choice
    buttons.
  * Added Choice Group fields, which provide automatic layout for Choice
    fields, if you prefer them over the Choice Menu field type.
  * Added Flag List fields, which display a list, where the selected
    items correspond to flags to set.  These can take the place of
    large groups of Flag fields, although they don't save much space.
  * Added Flag Group fields, which provide automatic layout for Flag
    fields, if you prefer them over the Flag List field type.

Note that I put more changes into 2.2.1 (released the same day) than
expected, but there were a lot of problems to fix.  One which wasn't a
problem, but technically a new, incompatible feature:
  * Automatic HTML export templates now repsect sumwidth in summary lists
    by shortening headers and data if necessary

Also, I feel that making help text more legible is a critical enough
feature that I'm releasing 2.2.2 (grok 2.2.1, SVN 530, 12.2.18) just
for that.

Databases which use the new widget types (Number, Choice Group, Choice
Menu, Flag Group, Flag Menu) will not function correctly in 2.1 or
earlier.  Combo boxes and special date/time widgets will revert to
plain input fields in 2.1 or earlier.

Version 2.3 (in progress)
  * sub() and gsub() were replacing too many characters in mid-string
    replacements.  This bug was introduced in 2.1.
  * Print output was exceeding line length by one for notes and card
    data.
  * Many Export/template-related changes:
    * Exports with errors would go into an infinite loop retrying the
      eport, requiring a kill to correct.  This bug was introduced in
      2.1.
    * There are no longer buffer overflow issues due to long template
      expressions.  Previous revisions simply bumped the buffer size;
      now it's limited only by memory.
    * Expressions in templates may now be blank or just whitespace
    * Whitespace stripped around expressions in templates may now
      include newlines.  With the last item, this means newlines
      can be inserted in templates for legibility without
      affecting the output.
    * Templates now support flags a-z.  The html exporter is now only
      one, supporting -s and -d for the old behavior.  Since
      flags are appended to the template name for command-line,
      old uses of html-s and html-d still work the same.
    * Templates no longer insert a newline at the end of file.  If you
      need one, just add it to the template itself.
    * Added templates to resemble the Print routines.  "Low, ASCII
      only" is called "text" and "Medium, overstrike ASCII" is called
      "fancytext".  The output formats are selected using flags:
      "Summary" is "-s", "Summary with notes" is "-n-s", and "Cards" is
      "-d".  Note that other combinations are now possible; e.g.,
      "-n" combines "Summary with notes" with "Cards".  Note that
      these exports are limited by the "Printer line length"
      preference, just like the print routines were.  Also, unlike the
      print routines, the templates wrap not only the data, but also
      the header.
    * Added -n flag (add notes to summary) to "html" for consistency
    * In HTML exports, links are no longer added to summary lines if
      there is no detail listing link target.
    * In HTML exports, the column to link is chosen based on default sort
      key and field type rather than always picking the left-most.
    * Exports may now be previewed in a window, like print-to-window.
 * Added detab and align functions for expressions
 * Printing has been replaced by Qt's native print mechanism operating
   on template outputs.  Print-to-window is now Qt's print preview
   mechanism.  All former print options have equivalents in the new
   Print GUI.  The only thing missing is printing to a text-only printer,
   which must now be done on the command line using exports.

Reliance on details of the HTML templates or their format is
discouraged.  A number of changes were introduced in this release.
